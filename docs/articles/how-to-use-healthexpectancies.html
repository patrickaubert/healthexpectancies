<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>how-to-use-healthexpectancies • healthexpectancies</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="how-to-use-healthexpectancies">
<meta property="og:description" content="healthexpectancies">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">healthexpectancies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/how-to-use-healthexpectancies.html">how-to-use-healthexpectancies</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/patrickaubert/healthexpectancies/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="how-to-use-healthexpectancies_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="how-to-use-healthexpectancies_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>how-to-use-healthexpectancies</h1>
            
      
      
      <div class="hidden name"><code>how-to-use-healthexpectancies.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">healthexpectancies</span><span class="op">)</span></code></pre></div>
<div id="function-completedfletable" class="section level1">
<h1 class="hasAnchor">
<a href="#function-completedfletable" class="anchor"></a>Function CompleteDFLEtable</h1>
<p>This function calculates life expectancies and disability-free life expectancies from a dataset containing (at least) information on age, mortality rates and disability prevalence.</p>
<p>As an option, a ‘sex’ and ‘categ’ variables can be added in the input dataset. If so, calculations are made for each separate values of ‘sex’ and ‘categ’. The latter is an undefinit category variables, for instance region or social category. If the initial dataset contains variable ‘year’, calculations are also made for each separate years.</p>
<p>Calculations are made using the Sullivan method. They completely follow example 1 provided in the Sullivan manual (June 2007 version), available at <a href="https://reves.site.ined.fr/en/resources/computation_online/sullivan/" class="uri">https://reves.site.ined.fr/en/resources/computation_online/sullivan/</a>. One minor deviation is that the ad-hoc value for the conditional probability of death (qx) at age 0 is note taken into account.</p>
<p>The input table is a dataset containing at least the 3 variables above. The output table is a dataset containing all input variables and additionnal variables that are useful for the calculations of LE and DFLE. If those variables are already in the input table, they are not calculated and the input variables are used instead.</p>
<p>Definitions of variables in the input or output dataset:</p>
<ul>
<li>year : Year</li>
<li>age : Age</li>
<li>Px : Mid-year population at age x</li>
<li>Dx : No. deaths</li>
<li>mx : central death rate</li>
<li>qx : conditional probability of death</li>
<li>lx : numbers surviving to age x</li>
<li>Lx : person years lived at age x</li>
<li>ex : total life expectancy</li>
<li>pix : proportion with disability</li>
<li>DFLx : person years lived without disability</li>
<li>DFTx : total years lived without disability from age x</li>
<li>DFLEx : disability-free life expectancy</li>
<li>pctDFLEx : proportion of life spent disability-free</li>
<li>DLEx :years lived with disability (= ex - DFLEx)</li>
</ul>
</div>
<div id="function-prevalence_to_polynomial" class="section level1">
<h1 class="hasAnchor">
<a href="#function-prevalence_to_polynomial" class="anchor"></a>Function prevalence_to_polynomial</h1>
<p>This function approximates a vector of prevalences (according to age) by a polynomial function.</p>
<p>The degree of the polynomial can be chosen. Default value is 4.</p>
<p>Weights can also be defined (eg. number of survivors at each each). By default, all ages are weighted identically.</p>
</div>
<div id="function-polynomial_to_prevalence" class="section level1">
<h1 class="hasAnchor">
<a href="#function-polynomial_to_prevalence" class="anchor"></a>Function polynomial_to_prevalence</h1>
<p>This function calculates prevalences at each age, given a polynomial function.</p>
<p>Parameters are the following :</p>
<ul>
<li>coefficients : a vector of coefficients for the polynomial.</li>
<li>agemin : minimal age in the output vector (default is 60)</li>
<li>agemax : maximal age in the output vector (default is 120)</li>
<li>ageclass : a vector defining age brackets. If <em>ageclass</em> is non null, the output vector are average prevalences within each agebracket</li>
</ul>
</div>
<div id="function-forecastprevalence" class="section level1">
<h1 class="hasAnchor">
<a href="#function-forecastprevalence" class="anchor"></a>Function ForecastPrevalence</h1>
<p>This function forecasts the values of disability prevalences and of DFLE according to age, given initial datasets containing age, disability prevalences at a reference year, forecasted mortality rates, and on hypothesis on the evolution of disabilities.</p>
<p>Forecasting options are :</p>
<ul>
<li>‘cstDFLE’ : constant disability-free life expectancy over time (ie. every increase in life expectancy is spent in disability)</li>
<li>‘cstDLE’ : constant in-disability life expectancy (ie. every increase in life expectancy is spent disability-free)</li>
<li>‘cstPctDFLE’ : constant share of disability-free life expectancy in total life expectancy</li>
<li>‘cstPrev’ : constant prevalences of disability (at every age and sex) over time</li>
</ul>
</div>
<div id="datasets-included-in-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#datasets-included-in-the-package" class="anchor"></a>Datasets included in the package</h1>
<p>Several datasets are included in the <em>healthexpectancies</em> package. All of them relates to France.</p>
<div id="insees-population-forecast-2016" class="section level2">
<h2 class="hasAnchor">
<a href="#insees-population-forecast-2016" class="anchor"></a>Insee’s population forecast (2016)</h2>
<p>Insee is the French national institute for statistics and economic studies. It publishes population forecasts every 5 years (last publication was in 2016). Forecasted mortality rates by sex for the ‘central’ scenario are included in the package.</p>
<p>See <a href="https://www.insee.fr/fr/information/2546485#titre-bloc-3" class="uri">https://www.insee.fr/fr/information/2546485#titre-bloc-3</a> for more information about the forecasting methods.</p>
</div>
<div id="vqs-2014" class="section level2">
<h2 class="hasAnchor">
<a href="#vqs-2014" class="anchor"></a>VQS (2014)</h2>
<p>The <em>Vie quotidienne et santé</em> (VQS) survey is a large sample survey conducted in 2014 by DREES (the statistical directory of the French Ministry for Health and Social affairs).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Patrick Aubert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
