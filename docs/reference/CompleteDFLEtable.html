<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Complete a dataframe with useful variables for the calculation of disability-free life expectancies (DFLE) — CompleteDFLEtable • healthexpectancies</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Complete a dataframe with useful variables for the calculation of disability-free life expectancies (DFLE) — CompleteDFLEtable" />
<meta property="og:description" content="From an input dataset containing some information on age, mortality rates and prevalences
of disability (at least 'age', 'qx' or 'mx', and 'pix' must be within the input dataset),
the function completes it with values of life expectancies and disability-free life expectancies.
If some indispensable variables are missing (eg 'age'), the output is the same as the input dataset.
If the input dataset contains mortality rates ('qx') but no prevalence of disabilities ('pix'), only total life-expectancy is calculed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">healthexpectancies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/how-to-use-healthexpectancies.html">how-to-use-healthexpectancies</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/patrickaubert/healthexpectancies/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Complete a dataframe with useful variables for the calculation of disability-free life expectancies (DFLE)</h1>
    
    <div class="hidden name"><code>CompleteDFLEtable.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>From an input dataset containing some information on age, mortality rates and prevalences
of disability (at least 'age', 'qx' or 'mx', and 'pix' must be within the input dataset),
the function completes it with values of life expectancies and disability-free life expectancies.
If some indispensable variables are missing (eg 'age'), the output is the same as the input dataset.
If the input dataset contains mortality rates ('qx') but no prevalence of disabilities ('pix'), only total life-expectancy is calculed.</p>
    </div>

    <pre class="usage"><span class='fu'>CompleteDFLEtable</span><span class='op'>(</span><span class='va'>tab</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tab</th>
      <td><p>a dataframe containing some of the variables</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a dataframe with all variables that can be calculated from the input dataframe</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Full headings for the names of variables in the output dataset can be found in the 'description_sullivan' dataframe (in the package).</p>
<p>If variables 'sex' and/or 'year' and/or 'categ' (an undefinite category variable that can be defined by the user)
are in the input dataset, calculations are performed for each separate values of 'sex', 'year' and/or 'categ'.</p>
<p>Calculations follow example 1 in the sullivan manual (June 2007 version).
See https://reves.site.ined.fr/en/resources/computation_online/sullivan/ for more explanations.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>CompleteDFLEtable</span><span class='op'>(</span> <span class='va'>sullivan</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"year"</span>,<span class='st'>"age"</span>,<span class='st'>"mx"</span>,<span class='st'>"qx"</span>,<span class='st'>"pix"</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 86 x 15</span><span>
#&gt;     year   age      mx      qx   pix agewidth     lx     Lx     Tx    ex   DFLx
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     0 3.69</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-3</span><span> 3.61</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-3</span><span> 0            1 1.00</span><span style='color: #555555;'>e</span><span>5 </span><span style='text-decoration: underline;'>99</span><span>711. 8.14</span><span style='color: #555555;'>e</span><span>6  81.4 </span><span style='text-decoration: underline;'>99</span><span>711.
#&gt; </span><span style='color: #555555;'> 2</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     1 3.83</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 3.83</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.048        1 9.96</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>620. 8.04</span><span style='color: #555555;'>e</span><span>6  80.7 </span><span style='text-decoration: underline;'>94</span><span>839.
#&gt; </span><span style='color: #555555;'> 3</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     2 1.98</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.98</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.048        1 9.96</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>591. 7.94</span><span style='color: #555555;'>e</span><span>6  79.7 </span><span style='text-decoration: underline;'>94</span><span>811.
#&gt; </span><span style='color: #555555;'> 4</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     3 1.43</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.43</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.048        1 9.96</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>574. 7.84</span><span style='color: #555555;'>e</span><span>6  78.8 </span><span style='text-decoration: underline;'>94</span><span>795.
#&gt; </span><span style='color: #555555;'> 5</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     4 2.15</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 2.15</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.048        1 9.96</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>557. 7.74</span><span style='color: #555555;'>e</span><span>6  77.8 </span><span style='text-decoration: underline;'>94</span><span>778.
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     5 1.42</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.42</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.03         1 9.95</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>539. 7.64</span><span style='color: #555555;'>e</span><span>6  76.8 </span><span style='text-decoration: underline;'>96</span><span>553.
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     6 1.04</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.04</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.03         1 9.95</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>527. 7.54</span><span style='color: #555555;'>e</span><span>6  75.8 </span><span style='text-decoration: underline;'>96</span><span>541.
#&gt; </span><span style='color: #555555;'> 8</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     7 1.89</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.89</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.03         1 9.95</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>512. 7.44</span><span style='color: #555555;'>e</span><span>6  74.8 </span><span style='text-decoration: underline;'>96</span><span>527.
#&gt; </span><span style='color: #555555;'> 9</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     8 8.52</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-5</span><span> 8.52</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-5</span><span> 0.03         1 9.95</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>498. 7.34</span><span style='color: #555555;'>e</span><span>6  73.8 </span><span style='text-decoration: underline;'>96</span><span>513.
#&gt; </span><span style='color: #555555;'>10</span><span>  </span><span style='text-decoration: underline;'>2</span><span>004     9 1.01</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 1.01</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> 0.03         1 9.95</span><span style='color: #555555;'>e</span><span>4 </span><span style='text-decoration: underline;'>99</span><span>489. 7.25</span><span style='color: #555555;'>e</span><span>6  72.8 </span><span style='text-decoration: underline;'>96</span><span>504.
#&gt; </span><span style='color: #555555;'># ... with 76 more rows, and 4 more variables: DFTx </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, DFLEx </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   DLEx </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, pctDFLEx </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span></div><div class='input'><span class='fu'>CompleteDFLEtable</span><span class='op'>(</span> <span class='va'>FRInseeMortalityForecast2016</span><span class='op'>[</span><span class='va'>FRInseeMortalityForecast2016</span><span class='op'>$</span><span class='va'>year</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2013</span>,<span class='fl'>2015</span>,<span class='fl'>2020</span>,<span class='fl'>2030</span><span class='op'>)</span>,<span class='op'>]</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 968 x 10</span><span>
#&gt;     year sex      age        qx agewidth        mx      lx     Lx       Tx    ex
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     0 0.003</span><span style='text-decoration: underline;'>22</span><span>          1 0.003</span><span style='text-decoration: underline;'>22</span><span>   </span><span style='text-decoration: underline;'>100</span><span>000  </span><span style='text-decoration: underline;'>99</span><span>743. 8</span><span style='text-decoration: underline;'>501</span><span>250.  85.0
#&gt; </span><span style='color: #555555;'> 2</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     1 0.000</span><span style='text-decoration: underline;'>364</span><span>         1 0.000</span><span style='text-decoration: underline;'>364</span><span>   </span><span style='text-decoration: underline;'>99</span><span>678. </span><span style='text-decoration: underline;'>99</span><span>660. 8</span><span style='text-decoration: underline;'>401</span><span>507.  84.3
#&gt; </span><span style='color: #555555;'> 3</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     2 0.000</span><span style='text-decoration: underline;'>168</span><span>         1 0.000</span><span style='text-decoration: underline;'>168</span><span>   </span><span style='text-decoration: underline;'>99</span><span>642. </span><span style='text-decoration: underline;'>99</span><span>634. 8</span><span style='text-decoration: underline;'>301</span><span>847.  83.3
#&gt; </span><span style='color: #555555;'> 4</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     3 0.000</span><span style='text-decoration: underline;'>130</span><span>         1 0.000</span><span style='text-decoration: underline;'>130</span><span>   </span><span style='text-decoration: underline;'>99</span><span>625. </span><span style='text-decoration: underline;'>99</span><span>619. 8</span><span style='text-decoration: underline;'>202</span><span>214.  82.3
#&gt; </span><span style='color: #555555;'> 5</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     4 0.000</span><span style='text-decoration: underline;'>127</span><span>         1 0.000</span><span style='text-decoration: underline;'>127</span><span>   </span><span style='text-decoration: underline;'>99</span><span>612. </span><span style='text-decoration: underline;'>99</span><span>606. 8</span><span style='text-decoration: underline;'>102</span><span>595.  81.3
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     5 0.000</span><span style='text-decoration: underline;'>105</span><span>         1 0.000</span><span style='text-decoration: underline;'>105</span><span>   </span><span style='text-decoration: underline;'>99</span><span>600. </span><span style='text-decoration: underline;'>99</span><span>594. 8</span><span style='text-decoration: underline;'>002</span><span>989.  80.4
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     6 0.000</span><span style='text-decoration: underline;'>084</span><span>4        1 0.000</span><span style='text-decoration: underline;'>084</span><span>4  </span><span style='text-decoration: underline;'>99</span><span>589. </span><span style='text-decoration: underline;'>99</span><span>585. 7</span><span style='text-decoration: underline;'>903</span><span>395.  79.4
#&gt; </span><span style='color: #555555;'> 8</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     7 0.000</span><span style='text-decoration: underline;'>082</span><span>0        1 0.000</span><span style='text-decoration: underline;'>082</span><span>0  </span><span style='text-decoration: underline;'>99</span><span>581. </span><span style='text-decoration: underline;'>99</span><span>577. 7</span><span style='text-decoration: underline;'>803</span><span>810.  78.4
#&gt; </span><span style='color: #555555;'> 9</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     8 0.000</span><span style='text-decoration: underline;'>076</span><span>7        1 0.000</span><span style='text-decoration: underline;'>076</span><span>7  </span><span style='text-decoration: underline;'>99</span><span>573. </span><span style='text-decoration: underline;'>99</span><span>569. 7</span><span style='text-decoration: underline;'>704</span><span>233.  77.4
#&gt; </span><span style='color: #555555;'>10</span><span>  </span><span style='text-decoration: underline;'>2</span><span>013 female     9 0.000</span><span style='text-decoration: underline;'>065</span><span>6        1 0.000</span><span style='text-decoration: underline;'>065</span><span>6  </span><span style='text-decoration: underline;'>99</span><span>565. </span><span style='text-decoration: underline;'>99</span><span>562. 7</span><span style='text-decoration: underline;'>604</span><span>664.  76.4
#&gt; </span><span style='color: #555555;'># ... with 958 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Patrick Aubert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


